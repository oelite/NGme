@import "../../../style/theme";

$oe-list-side-padding: 16px;
$oe-list-item-large-text-size: 42px;
$oe-list-item-standard-text-size: 16px;
$oe-list-item-small-text-size: 14px;

:host {
  display: block;
  color: md-color($md-foreground, base);

  oe-nav-list, oe-nav-list-item, oe-nav-list-item-heading, oe-nav-list-group-heading {
    display: block;
    position: relative;
    width: 100%;
    -webkit-transition: opacity 0.5s ease-in-out;
    -moz-transition: opacity 0.5s ease-in-out;
    -ms-transition: opacity 0.5s ease-in-out;
    -o-transition: opacity 0.5s ease-in-out;
    transition: opacity 0.5s ease-in-out;
  }
  .oe-nav-list-group {
    flex-grow: 0;
    flex-basis: 100%;
    order: 99;
  }

  .oe-nav-list-item, .oe-nav-list-group-heading {
    display: flex;
    padding: $oe-indicator-icon-size/2 $oe-indicator-icon-size;
    flex: 0 0 100%;
    align-items: center;
    justify-content: space-between;
    color: md-color($md-foreground, base);
    overflow: hidden;

    md-icon:first-of-type {
      @include box($oe-indicator-icon-size, $oe-indicator-icon-size);
      font-size: $oe-indicator-icon-size;
      line-height: $oe-indicator-icon-size;
      color: md-color($md-primary);
    }
    .oe-nav-list-item-heading {
      overflow: hidden;
      padding-left: $oe-list-side-padding;
      font-size: $oe-list-item-standard-text-size;
      line-height: $oe-list-item-standard-text-size;
      height: $oe-list-item-standard-text-size;
    }
    md-icon:last-of-type:not(:first-of-type) {
      @include box($oe-indicator-icon-size, $oe-indicator-icon-size);
      font-size: $oe-indicator-icon-size;
      line-height: $oe-indicator-icon-size;
      position: absolute;
      right: -$oe-indicator-icon-size/3*2;
      color: md-color($md-accent);
    }
  }

  oe-nav-list-group {
    opacity: 0;
    visibility: hidden;
    height: 0 !important;;
    display: flex;
    -webkit-transition: visibility 0s ease-in-out, opacity 0.3s ease-in-out, height 0.3s ease-in-out;
    -moz-transition: visibility 0s ease-in-out, opacity 0.3s ease-in-out, height 0.3s ease-in-out;
    -ms-transition: visibility 0s ease-in-out, opacity 0.3s ease-in-out, height 0.3s ease-in-out;
    -o-transition: visibility 0s ease-in-out, opacity 0.3s ease-in-out, height 0.3s ease-in-out;
    transition: visibility 0s ease-in-out, opacity 0.3s ease-in-out, height 0.3s ease-in-out;
  }

  oe-nav-list-item.active {
    background-color: md-color($md-light-theme-background, background);
    oe-nav-list-group {
      opacity: 1;
      visibility: visible;
      height: auto !important;

      .oe-nav-list-group {
        background-color: md_color($md-light-theme-background, hover);
        flex-direction: column;
        flex: 0 0 100%;
        overflow: hidden;

        .oe-nav-list-item, .oe-nav-list-group, .oe-nav-list-group-heading {
          padding: 0;
          display: flex;
        }
        oe-nav-list-group-heading {
          display: flex;
          flex: 0 0 100%;

          .oe-nav-list-group-heading {
            padding: 0;
            justify-content: flex-start;
          }
        }

        oe-nav-list-item, oe-nav-list-group-heading {
          padding: $oe-indicator-icon-size/2 $oe-indicator-icon-size;

          .oe-nav-list-item {
            font-size: $oe-list-item-small-text-size;
            line-height: $oe-list-item-small-text-size;
            height: $oe-list-item-small-text-size;
            padding: 5px 0;
            .oe-nav-list-item-heading {
              padding-left: 0;
              font-size: $oe-list-item-small-text-size;
              line-height: $oe-list-item-small-text-size;
              height: $oe-list-item-small-text-size;
            }
          }

        }

        md-icon:first-of-type {
          @include box($oe-indicator-icon-size+$oe-list-side-padding, $oe-indicator-icon-size);
          font-size: $oe-indicator-icon-size/3*2;
          line-height: $oe-indicator-icon-size;
          color: md-color($md-primary);
          flex: 0 0 $oe-indicator-icon-size+$oe-list-side-padding;
        }
        md-icon:last-of-type:not(:first-of-type) {
          @include box($oe-indicator-icon-size/3*2, $oe-indicator-icon-size/3*2);
          font-size: $oe-indicator-icon-size/3*2;
          line-height: $oe-indicator-icon-size/3*2;
          position: absolute;
          right: -$oe-indicator-icon-size;
          color: md-color($md-accent);
        }

        .oe-nav-list-group-heading {
          width: 100%;
          font-size: $oe-list-item-small-text-size;
          line-height: $oe-list-item-small-text-size;
          flext: 0 0 auto;

          * {
            flex: 0 0 auto;
          }
        }

      }
    }
  }

  oe-nav-list-item.active, oe-nav-list-item:hover {
    cursor: pointer;
    background-color: md-color($md-primary, default, 0.1);

  }
}
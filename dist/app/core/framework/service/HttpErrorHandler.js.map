{"version":3,"file":"HttpErrorHandler.js","sourceRoot":"","sources":["../../../../Volumes/Data/OElite/cosmos/public/OEme/tmp/broccoli_type_script_compiler-input_base_path-7nMsUUjz.tmp/0/src/app/core/framework/service/HttpErrorHandler.ts"],"names":[],"mappings":"AAAA;;GAEG;;;;;;;;;;;AAEH,qBAAyB,eAAe,CAAC,CAAA;AACzC,2BAAyB,cAAc,CAAC,CAAA;AAGxC;IAEI,0BAAoB,UAAqB;QAArB,eAAU,GAAV,UAAU,CAAW;QACrC,UAAU,CAAC,OAAO,CAAC,SAAS,CACxB,UAAC,KAAS;YACN,OAAO,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAClC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAC;YACnD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,CAAC,QAAQ,EAAE,CAAC;YACnB,2DAA2D;YAC3D,0DAA0D;YAC1D,4DAA4D;YAC5D,2CAA2C;YAC3C,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC7B,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAlBL;QAAC,iBAAU,EAAE;;wBAAA;IAmBb,uBAAC;AAAD,CAAC,AAlBD,IAkBC;AAlBY,wBAAgB,mBAkB5B,CAAA","sourcesContent":["/**\n * Created by mleader1 on 29/06/2016.\n */\n\nimport {Injectable} from \"@angular/core\";\nimport {ApiGateway} from \"./ApiGateway\";\n\n@Injectable()\nexport class HttpErrorHandler {\n\n    constructor(private apiGateway:ApiGateway) {\n        apiGateway.errors$.subscribe(\n            (value:any) => {\n                console.group(\"HttpErrorHandler\");\n                console.log(value.status, \"status code detected.\");\n                console.dir(value);\n                console.groupEnd();\n                // If the user made a request that they were not authorized\n                // to, it's possible that their session has expired. Let's\n                // refresh the page and let the server-side routing move the\n                // user to a more appropriate landing page.\n                if (value.status === 401) {\n                    window.location.reload();\n                }\n            });\n    }\n}"]}
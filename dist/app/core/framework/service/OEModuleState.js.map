{"version":3,"file":"OEModuleState.js","sourceRoot":"","sources":["../../../../Volumes/Data/OElite/cosmos/public/OEme/tmp/broccoli_type_script_compiler-input_base_path-7nMsUUjz.tmp/0/src/app/core/framework/service/OEModuleState.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;;GAEG;AACH,qBAAuC,eAAe,CAAC,CAAA;AAEvD,6BAA2B,gBAAgB,CAAC,CAAA;AAG5C;IA4CI,uBAAoB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;QAxCtC,YAAO,GAAe,EAAE,CAAC;QAyC5B,YAAY,CAAC,UAAU,EAAE,CAAC;QAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,sBAAsB,GAAG,IAAI,mBAAY,EAAa,CAAC;QAC5D,IAAI,CAAC,qBAAqB,GAAG,IAAI,mBAAY,EAAa,CAAC;IAE/D,CAAC;IA3CO,uCAAe,GAAvB,UAAwB,MAAgB;QACpC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACT,yBAAyB;YACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAE1B,yBAAyB;YACzB,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;YAE/C,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7C,CAAC;IACL,CAAC;IAEM,wCAAgB,GAAvB,UAAwB,IAAW;QAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,IAAI,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAC/C,EAAE,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBAEzE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACpD,CAAC;QACL,CAAC;IACL,CAAC;IAEM,sCAAc,GAArB,UAAsB,EAAS;QAC3B,IAAI,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,IAAI;YACzC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,EAAE,CAAA;QACzC,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,cAAc,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;YAC5C,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAEM,mCAAW,GAAlB;QACI,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,CAAC;IA1CL;QAAC,iBAAU,EAAE;;qBAAA;IAoDb,oBAAC;AAAD,CAAC,AAnDD,IAmDC;AAnDY,qBAAa,gBAmDzB,CAAA","sourcesContent":["/**\n * Created by mleader1 on 04/07/2016.\n */\nimport {Injectable, EventEmitter} from \"@angular/core\";\nimport {IOEModule} from \"../IOEModule\";\nimport {OERouteState} from \"./OERouteState\";\n\n@Injectable()\nexport class OEModuleState {\n\n    public onNewModuleRegistered$:EventEmitter<IOEModule>;\n    public onModuleDeregistered$:EventEmitter<IOEModule>;\n    public modules:IOEModule[] = [];\n\n\n    public  registereModule(module:IOEModule):void {\n        if (module) {\n            //step 1. register module\n            this.modules.push(module);\n\n            //step 2. register routes\n            this.routeService.registerRoutes(module.routes)\n\n            this.onNewModuleRegistered$.emit(module);\n        }\n    }\n\n    public deregisterModule(oeId:string):void {\n        if (oeId) {\n            var existingModule = this.findModuleById(oeId);\n            if (existingModule) {\n                this.modules = this.modules.splice(this.modules.indexOf(existingModule));\n\n                this.onModuleDeregistered$.emit(existingModule);\n            }\n        }\n    }\n\n    public findModuleById(id:string):IOEModule {\n        var existingModule = this.modules.filter(item=> {\n            return item.oeId.toLowerCase() === id\n        });\n        if (existingModule && existingModule.length > 0)\n            return existingModule[0];\n        return null;\n    }\n\n    public initModules():void {\n        this.modules = [];\n    }\n\n\n    constructor(private routeService:OERouteState) {\n        routeService.initRoutes();\n        this.initModules();\n        this.onNewModuleRegistered$ = new EventEmitter<IOEModule>();\n        this.onModuleDeregistered$ = new EventEmitter<IOEModule>();\n\n    }\n}"]}
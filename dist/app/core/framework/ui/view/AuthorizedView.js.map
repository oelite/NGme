{"version":3,"file":"AuthorizedView.js","sourceRoot":"","sources":["../../../../../Volumes/Data/OElite/cosmos/public/OEme/tmp/broccoli_type_script_compiler-input_base_path-1mTS1K7M.tmp/0/src/app/core/framework/ui/view/AuthorizedView.ts"],"names":[],"mappings":";;;;;;AAAA,uBAAqB,UAAU,CAAC,CAAA;AAIhC,sBAAoB,sBAAsB,CAAC,CAAA;AAI3C;;GAEG;AAGH;IAA6C,kCAAM;IAI/C,wBAAY,QAAoB,EAAE,MAAc,EAAE,cAA8B,EAAS,aAA4B,EAAE,MAAc;QAJzI,iBA8BC;QAzBO,kBAAM,QAAQ,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC;QADqC,kBAAa,GAAb,aAAa,CAAe;QAGjH,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,SAAS,CAAC,UAAA,MAAM;YACpD,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,CAAC,CAAC;gBACd,KAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAClC,CAAC,CAAC,CAAA;IACN,CAAC;IAED,iCAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;QAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;QACvE,kCAAkC;QAClC,wDAAwD;QACxD,gDAAgD;QAChD,wBAAwB;QACxB,sBAAsB;QACtB,oDAAoD;QACpD,YAAY;QACZ,UAAU;QACV,IAAI;QAEJ,gBAAK,CAAC,QAAQ,WAAE,CAAC;IAErB,CAAC;IA3Ba,2BAAY,GAAW,eAAe,GAAG,aAAK,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;IA4BtF,qBAAC;AAAD,CAAC,AA9BD,CAA6C,eAAM,GA8BlD;AA9BqB,sBAAc,iBA8BnC,CAAA","sourcesContent":["import {OEView} from \"./OEView\";\nimport {SignInService} from \"../../../abstractions/users/signin.service\";\nimport {User} from \"../../../abstractions/users/user\";\nimport {OEAppState} from \"../../OEAppState\";\nimport {Utils} from \"../../../utils/funcs\";\nimport {Router, ActivatedRoute} from \"@angular/router\";\nimport {loginPath} from \"../../../../../custom/globals\";\nimport {ElementRef} from \"@angular/core\";\n/**\n * Created by mleader1 on 04/07/2016.\n */\n\n\nexport abstract class AuthorizedView extends OEView {\n    public currentUser: User;\n    public static viewSelector: string = \"oe-auth-view-\" + Utils.NewGuid().toString();\n\n    constructor(appState: OEAppState, router: Router, activatedRoute: ActivatedRoute, public signInService: SignInService, viewId: string) {\n        super(appState, router, activatedRoute, viewId);\n\n        this.signInService.onUserAuthenticated$.subscribe(result=> {\n            if (result.id > 0)\n                this.currentUser = result;\n        })\n    }\n\n    ngOnInit() {\n        console.log('a==============a');\n        console.log(this.signInService.loggedInUser);\n        this.currentUser = this.currentUser || this.signInService.loggedInUser;\n        // if (this.currentUser == null) {\n        //     this.signInService.Authenticate(true).catch(e=> {\n        //         this.router.navigateByUrl(loginPath);\n        //     }).then((res)=> {\n        //         if (!res) {\n        //             this.router.navigateByUrl(loginPath);\n        //         }\n        //     });\n        // }\n\n        super.ngOnInit();\n\n    }\n}"]}
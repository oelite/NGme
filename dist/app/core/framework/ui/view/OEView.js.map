{"version":3,"file":"OEView.js","sourceRoot":"","sources":["../../../../../Volumes/Data/OElite/cosmos/public/OEme/tmp/broccoli_type_script_compiler-input_base_path-1mTS1K7M.tmp/0/src/app/core/framework/ui/view/OEView.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAgC,eAAe,CAAC,CAAA;AAChD,+BAA4C,6BAA6B,CAAC,CAAA;AAC1E,sBAAoB,sBAAsB,CAAC,CAAA;AAC3C,2BAAyB,kBAAkB,CAAC,CAAA;AAC5C,uBAA0D,iBAAiB,CAAC,CAAA;AAE5E,0BAAwB,wBAAwB,CAAC,CAAA;AAgBjD;IAGI,gBAAmB,QAAoB,EAAS,MAAc,EAAS,cAA8B,EAAS,MAAc;QAAzG,aAAQ,GAAR,QAAQ,CAAY;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,mBAAc,GAAd,cAAc,CAAgB;QAAS,WAAM,GAAN,MAAM,CAAQ;IAE5H,CAAC;IAEM,2BAAU,GAAjB,UAAkB,cAA8B;QAC5C,MAAM,CAAC,cAAc,IAAI,cAAc,CAAC,UAAU,EAAE,CAAC;IACzD,CAAC;IAED,yBAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAGD;;OAEG;IACK,6BAAY,GAApB,UAAqB,gBAA2B;QAC5C,IAAI,aAAa,GAAG,IAAI,CAAC;QACzB,EAAE,CAAA,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA,CAAC;YACzB,aAAa,GAAG,IAAI,+BAAc,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,EAAE,IAAI,qBAAS,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,8BAAa,CAAC,IAAI,CAAC,CAAC;QAC3J,CAAC;QACD,EAAE,CAAC,CAAC,aAAa,CAAC;YACd,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACnE,IAAI;YACA,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,+BAAc,CAAC,IAAI,EAAE,EAAE,EAAE,IAAI,qBAAS,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,8BAAa,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAEnJ,CAAC;IA7Ba,mBAAY,GAAW,SAAS,GAAG,aAAK,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;IARhF;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,MAAM,CAAC,YAAY;YAC7B,QAAQ,EAAE,oDAAoD;SACjE,CAAC;;cAAA;IAkCF,aAAC;AAAD,CAAC,AA/BD,IA+BC;AA/BY,cAAM,SA+BlB,CAAA","sourcesContent":["import {Component, Output} from \"@angular/core\";\nimport {OELayoutConfig, LayoutSection} from \"../../layout/OELayoutConfig\";\nimport {Utils} from \"../../../utils/funcs\";\nimport {OEAppState} from \"../../OEAppState\";\nimport {Router, ActivatedRoute, RouterStateSnapshot} from \"@angular/router\";\nimport {IOERoute} from \"../../IOEModule\";\nimport {OEUIState} from \"../../layout/OEUIState\";\n\n/**\n * Created by mleader1 on 28/06/2016.\n */\nexport interface IOEView {\n    appState: OEAppState;\n}\n\n@Component({\n    moduleId: module.id,\n    selector: OEView.viewSelector,\n    template: '<ng-content select=\"oeview-enforced\"></ng-content>'\n})\n\n\nexport class OEView implements IOEView {\n    public static viewSelector: string = 'oeView-' + Utils.NewGuid().toString();\n\n    constructor(public appState: OEAppState, public router: Router, public activatedRoute: ActivatedRoute, public viewId: string) {\n\n    }\n\n    public isViewable(viewDefinition: OELayoutConfig): boolean {\n        return viewDefinition && viewDefinition.isViewable();\n    }\n\n    ngOnInit() {\n        console.log('view is now initiating....');\n        this.initMainView();\n    }\n\n\n    /**\n     * init a main view based on the route hitting the current page\n     */\n    private initMainView(triggeredByRoute?: IOERoute) {\n        var mainViewLocal = null;\n        if(this.activatedRoute.data){\n            mainViewLocal = new OELayoutConfig(this.activatedRoute.snapshot.data['viewSelector'], [], new OEUIState(true, false, false, null), LayoutSection.Main);\n        }\n        if (mainViewLocal)\n            this.appState.layoutState.setState(mainViewLocal, this.viewId);\n        else\n            this.appState.layoutState.setState(new OELayoutConfig(null, [], new OEUIState(true, false, false, null), LayoutSection.Main), this.viewId);\n\n    }\n}"]}